{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";const initialState={lock:null,list:[]};const modalSlice=createSlice({name:'modal',initialState,reducers:{openModal:(state,action)=>{const{modalName,type,onopen,onclose,props}=action.payload;// console.log('open')\nif(state.list.some(value=>modalName===value.modalName)){return state;}const arr=[...state.list.concat({modalName,type,onopen,onclose,props})];if(onopen){onopen();}return{lock:state.lock,list:arr};},closeModal:(state,action)=>{const modalName=action.payload;// console.log('close')\nconst target=state.list.filter(v=>v.modalName===modalName).at(0);if(target&&target.onclose){target.onclose();}const deleted=[...state.list.filter(value=>value.modalName!==modalName)];return{lock:state.lock,list:deleted};},closeAndLock:(state,action)=>{const modalName=action.payload;// console.log('close and lock')\n// console.log(`close and lock: ${action.payload}`)\nconst target=state.list.filter(v=>v.modalName===modalName).at(0);if(target&&target.onclose){target.onclose();}const deleted=[...state.list.filter(value=>value.modalName!==modalName)];return{lock:modalName,list:deleted};},lock:(state,action)=>{// console.log(`lock: ${action.payload}`)\nreturn{lock:action.payload,list:[...state.list]};},unlock:state=>{// console.log('unlock')\nreturn{lock:null,list:[...state.list]};},getStackSize:state=>{return state.list&&state.list.length>0;}}});export const modalReducer=modalSlice.reducer;export const{openModal,closeModal,getStackSize,lock,unlock,closeAndLock}=modalSlice.actions;","map":{"version":3,"names":["createSlice","initialState","lock","list","modalSlice","name","reducers","openModal","state","action","modalName","type","onopen","onclose","props","payload","some","value","arr","concat","closeModal","target","filter","v","at","deleted","closeAndLock","unlock","getStackSize","length","modalReducer","reducer","actions"],"sources":["/Users/chan/Baektracker/src/main/frontend/src/js/setup/store/slices/modalSlice.js"],"sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    lock: null,\n    list: []\n}\n\nconst modalSlice = createSlice({\n    name: 'modal',\n    initialState,\n    reducers: {\n        openModal: (state, action)=>{\n            const {modalName, type, onopen, onclose, props} = action.payload;\n            // console.log('open')\n            if(state.list.some(value=>(modalName === value.modalName))){\n                return state;\n            }\n            const arr = [...state.list.concat({modalName, type, onopen, onclose, props})];\n            if(onopen){\n                onopen();\n            }\n            return {\n                lock: state.lock,\n                list: arr\n            }\n        },\n        closeModal: (state, action)=>{\n            const modalName = action.payload;\n            // console.log('close')\n            const target = state.list.filter(v=>v.modalName === modalName).at(0);\n            if(target && target.onclose){\n                target.onclose();\n            }\n            const deleted = [...state.list.filter(value=>(value.modalName !== modalName))]\n            return {\n                lock: state.lock,\n                list: deleted\n            }\n        },\n        closeAndLock: (state, action)=>{\n            const modalName = action.payload;\n            // console.log('close and lock')\n            // console.log(`close and lock: ${action.payload}`)\n            const target = state.list.filter(v=>v.modalName === modalName).at(0);\n            if(target && target.onclose){\n                target.onclose();\n            }\n            const deleted = [...state.list.filter(value=>(value.modalName !== modalName))]\n            return {\n                lock: modalName,\n                list: deleted\n            }\n        },\n        lock: (state, action)=>{\n            // console.log(`lock: ${action.payload}`)\n            return {\n                lock: action.payload,\n                list: [...state.list]\n            }\n        },\n        unlock: (state)=>{\n            // console.log('unlock')\n            return {\n                lock: null,\n                list: [...state.list]\n            }\n        },\n        getStackSize: (state)=>{\n            return state.list && state.list.length > 0\n        }\n    }\n});\n\nexport const modalReducer = modalSlice.reducer;\nexport const {openModal, closeModal, getStackSize, lock, unlock, closeAndLock} = modalSlice.actions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}