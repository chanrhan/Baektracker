{"ast":null,"code":"import styles from\"../../css/styles.module.css\";import React,{useEffect,useState}from\"react\";import useModal from\"../setup/hook/useModal\";import{DateUtils}from\"../setup/utils/DateUtils\";import{ModalType}from\"../setup/modal/ModalType\";import{NumberUtils}from\"../setup/utils/NumberUtils\";import{WeekSelectModal}from\"../modal/menu/WeekSelectModal\";import{useApi}from\"../api/useApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Header(_ref){let{fromDate,toDate,setFromDate,setToDate}=_ref;const{weeklyResultApi}=useApi();const today=new Date();const modal=useModal();const[totalFine,setTotalFine]=useState(0);useEffect(()=>{getTotalFine();},[]);const getTotalFine=()=>{weeklyResultApi.getTotalFine().then(_ref2=>{let{data}=_ref2;if(data){setTotalFine(data.sum);}});};const setWeekDates=date=>{const fd=DateUtils.getFirstDateOfWeek(date);const td=DateUtils.getLastDateOfWeek(date);setFromDate(DateUtils.dateToStringYYMMdd(fd));setToDate(DateUtils.dateToStringYYMMdd(td));};const handlePrevWeek=()=>{const newDate=new Date(fromDate);DateUtils.subDate(newDate,7);setWeekDates(newDate);};const handleNextWeek=()=>{const newDate=new Date(fromDate);DateUtils.addDate(newDate,7);setWeekDates(newDate);};const handleWeek=(year,month,day)=>{const dt=new Date(year,month,day);setWeekDates(dt);};const openRecipeModal=()=>{modal.openModal(ModalType.LAYER.Recipe,{});};return/*#__PURE__*/_jsxs(\"header\",{className:styles.header,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.title,children:\"Baektracker\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.weekSelectorContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.weekSelectorNavigation,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.weekSelectorNavButton,onClick:handlePrevWeek,children:\"\\u2190\"}),/*#__PURE__*/_jsxs(WeekSelectModal,{rootClassName:styles.weekSelectorWeekButton,date:fromDate,onSelect:handleWeek,children:[fromDate,\" ~ \",toDate]}),/*#__PURE__*/_jsx(\"button\",{className:styles.weekSelectorNavButton,onClick:handleNextWeek,children:\"\\u2192\"})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.weekSelectorTodayButton,onClick:()=>{setWeekDates(today);},children:\"\\uC624\\uB298\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.fineInfoContainer),children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.fineInfoAmount,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.fineInfoLabel,children:\"\\uB204\\uC801 \\uBC8C\\uAE08\"}),/*#__PURE__*/_jsxs(\"span\",{className:styles.fineInfoAmountText,children:[NumberUtils.toPrice(totalFine),\"\\uC6D0\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.fineInfoReceiptButton,onClick:openRecipeModal,children:\"\\uC601\\uC218\\uC99D \\uBCF4\\uAE30\"})]})]});}// FineInfo 컴포넌트\nconst FineInfo=_ref3=>{let{totalFine,onShowReceipt,className}=_ref3;const formatCurrency=amount=>{return new Intl.NumberFormat(\"ko-KR\").format(amount);};return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.fineInfoContainer,\" \").concat(className||\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.fineInfoAmount,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.fineInfoLabel,children:\"\\uB204\\uC801 \\uBC8C\\uAE08\"}),/*#__PURE__*/_jsxs(\"span\",{className:styles.fineInfoAmountText,children:[\"\\u20A9\",formatCurrency(totalFine)]})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.fineInfoReceiptButton,onClick:onShowReceipt,children:\"\\uC601\\uC218\\uC99D \\uBCF4\\uAE30\"})]});};","map":{"version":3,"names":["styles","React","useEffect","useState","useModal","DateUtils","ModalType","NumberUtils","WeekSelectModal","useApi","jsx","_jsx","jsxs","_jsxs","Header","_ref","fromDate","toDate","setFromDate","setToDate","weeklyResultApi","today","Date","modal","totalFine","setTotalFine","getTotalFine","then","_ref2","data","sum","setWeekDates","date","fd","getFirstDateOfWeek","td","getLastDateOfWeek","dateToStringYYMMdd","handlePrevWeek","newDate","subDate","handleNextWeek","addDate","handleWeek","year","month","day","dt","openRecipeModal","openModal","LAYER","Recipe","className","header","children","title","weekSelectorContainer","weekSelectorNavigation","weekSelectorNavButton","onClick","rootClassName","weekSelectorWeekButton","onSelect","weekSelectorTodayButton","concat","fineInfoContainer","fineInfoAmount","fineInfoLabel","fineInfoAmountText","toPrice","fineInfoReceiptButton","FineInfo","_ref3","onShowReceipt","formatCurrency","amount","Intl","NumberFormat","format"],"sources":["/Users/chan/Baektracker/src/main/frontend/src/js/components/Header.jsx"],"sourcesContent":["import styles from \"../../css/styles.module.css\";\nimport React, {useEffect, useState} from \"react\";\nimport useModal from \"../setup/hook/useModal\";\nimport {DateUtils} from \"../setup/utils/DateUtils\";\nimport {ModalType} from \"../setup/modal/ModalType\";\nimport {NumberUtils} from \"../setup/utils/NumberUtils\";\nimport {WeekSelectModal} from \"../modal/menu/WeekSelectModal\";\nimport {useApi} from \"../api/useApi\";\n\nexport function Header({fromDate, toDate, setFromDate, setToDate}){\n    const {weeklyResultApi} = useApi();\n    const today = new Date();\n\n    const modal = useModal();\n\n    const [totalFine, setTotalFine] = useState(0)\n    useEffect(() => {\n        getTotalFine()\n    }, []);\n\n    const getTotalFine = ()=>{\n        weeklyResultApi.getTotalFine().then(({data})=>{\n            if(data){\n                setTotalFine(data.sum)\n            }\n        })\n    }\n\n    const setWeekDates = (date: Date)=>{\n        const fd = DateUtils.getFirstDateOfWeek(date);\n        const td = DateUtils.getLastDateOfWeek(date);\n        setFromDate(DateUtils.dateToStringYYMMdd(fd))\n        setToDate(DateUtils.dateToStringYYMMdd(td))\n    }\n\n    const handlePrevWeek = ()=>{\n        const newDate = new Date(fromDate);\n        DateUtils.subDate(newDate, 7);\n        setWeekDates(newDate);\n    }\n\n    const handleNextWeek = ()=>{\n        const newDate = new Date(fromDate);\n        DateUtils.addDate(newDate, 7);\n\n        setWeekDates(newDate);\n    }\n\n    const handleWeek = (year, month, day)=>{\n        const dt = new Date(year, month, day);\n        setWeekDates(dt);\n    }\n\n    const openRecipeModal = ()=>{\n        modal.openModal(ModalType.LAYER.Recipe, {\n\n        })\n    }\n\n    return (\n        <header className={styles.header}>\n            <span className={styles.title}>Baektracker</span>\n            <div className={styles.weekSelectorContainer}>\n                <div className={styles.weekSelectorNavigation}>\n                    <button className={styles.weekSelectorNavButton} onClick={handlePrevWeek}>\n                        ←\n                    </button>\n                    <WeekSelectModal rootClassName={styles.weekSelectorWeekButton} date={fromDate}\n                                     onSelect={handleWeek}>\n                        {fromDate} ~ {toDate}\n                    </WeekSelectModal>\n                    {/*<button className={styles.weekSelectorWeekButton} onClick={openWeekCalendarModal}>*/}\n                    {/*    */}\n                    {/*</button>*/}\n                    <button className={styles.weekSelectorNavButton} onClick={handleNextWeek}>\n                        →\n                    </button>\n                </div>\n                <button className={styles.weekSelectorTodayButton} onClick={()=>{\n                    setWeekDates(today)\n                }}>\n                    오늘\n                </button>\n            </div>\n            <div className={`${styles.fineInfoContainer}`}>\n                <div className={styles.fineInfoAmount}>\n                    <span className={styles.fineInfoLabel}>누적 벌금</span>\n                    <span className={styles.fineInfoAmountText}>{NumberUtils.toPrice(totalFine)}원</span>\n                </div>\n                <button className={styles.fineInfoReceiptButton} onClick={openRecipeModal}>\n                    영수증 보기\n                </button>\n            </div>\n        </header>\n    )\n}\n\n// FineInfo 컴포넌트\nconst FineInfo = ({totalFine, onShowReceipt, className}) => {\n    const formatCurrency = (amount) => {\n        return new Intl.NumberFormat(\"ko-KR\").format(amount)\n    }\n\n    return (\n        <div className={`${styles.fineInfoContainer} ${className || \"\"}`}>\n            <div className={styles.fineInfoAmount}>\n                <span className={styles.fineInfoLabel}>누적 벌금</span>\n                <span className={styles.fineInfoAmountText}>₩{formatCurrency(totalFine)}</span>\n            </div>\n            <button className={styles.fineInfoReceiptButton} onClick={onShowReceipt}>\n                영수증 보기\n            </button>\n        </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}