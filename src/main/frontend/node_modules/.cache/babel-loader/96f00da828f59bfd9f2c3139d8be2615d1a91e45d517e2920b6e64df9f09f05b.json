{"ast":null,"code":"import Popup from\"../../css/popup.module.css\";import{useEffect,useRef,useState}from\"react\";import{cm}from\"../setup/utils/cm\";import{ScrollUtils}from\"../utils/ScrollUtils\";/*\nUsage\nex) <LayerModal {...props} maxWidth={1045} top={45}>\n */import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export const LayerModal=_ref=>{let{modalRef,scrollable,children,top,left,width,backgroundColor,height,windowBlocked,minWidth,maxWidth,minHeight,maxHeight,paddingBottom}=_ref;const[fadeIn,setFadeIn]=useState(false);const scrollRef=useRef(null);useEffect(()=>{let prevScrollY=null;if(!scrollable){prevScrollY=ScrollUtils.preventScroll(scrollRef.current.body);}const timer=setTimeout(()=>{setFadeIn(true);},100);return()=>{if(prevScrollY){ScrollUtils.allowScroll(scrollRef.current.body,prevScrollY);}prevScrollY=null;clearTimeout(timer);};},[]);useEffect(()=>{let prevScrollY=null;if(windowBlocked){prevScrollY=ScrollUtils.preventScroll(document.body);}return()=>{ScrollUtils.allowScroll(document.body,prevScrollY);};},[]);// const clickAwayToClose = (e)=>{\n//     if(contentRef.current && !contentRef.current.contains(e.target)){\n//         close();\n//     }\n// }\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"scroll-hidden \".concat(cm(Popup.popup_mask,\"\".concat(fadeIn&&Popup.active))),ref:scrollRef,children:/*#__PURE__*/_jsx(\"div\",{className:Popup.popup,ref:modalRef,style:{top:\"\".concat(60+top,\"px\"),left:\"\".concat(left,\"px\"),width:\"\".concat(width,\"px\"),height:\"\".concat(height,\"px\"),minWidth:\"\".concat(minWidth,\"px\"),maxWidth:\"\".concat(maxWidth,\"px\"),minHeight:\"\".concat(minHeight,\"px\"),maxHeight:\"\".concat(maxHeight,\"px\"),paddingBottom:\"\".concat(paddingBottom,\"px\"),backgroundColor:backgroundColor},children:children})})});};","map":{"version":3,"names":["Popup","useEffect","useRef","useState","cm","ScrollUtils","jsx","_jsx","Fragment","_Fragment","LayerModal","_ref","modalRef","scrollable","children","top","left","width","backgroundColor","height","windowBlocked","minWidth","maxWidth","minHeight","maxHeight","paddingBottom","fadeIn","setFadeIn","scrollRef","prevScrollY","preventScroll","current","body","timer","setTimeout","allowScroll","clearTimeout","document","className","concat","popup_mask","active","ref","popup","style"],"sources":["/Users/chan/Baektracker/src/main/frontend/src/js/modal/LayerModal.js"],"sourcesContent":["import Popup from \"../../css/popup.module.css\"\nimport {useEffect, useRef, useState} from \"react\";\nimport {cm} from \"../setup/utils/cm\";\nimport {ScrollUtils} from \"../utils/ScrollUtils\";\n\n/*\nUsage\nex) <LayerModal {...props} maxWidth={1045} top={45}>\n */\nexport const LayerModal = ({modalRef, scrollable, children, top, left, width, backgroundColor,\n                               height, windowBlocked, minWidth, maxWidth, minHeight, maxHeight, paddingBottom}) => {\n    const [fadeIn, setFadeIn] = useState(false);\n\n    const scrollRef = useRef(null)\n\n    useEffect(() => {\n        let prevScrollY = null;\n        if(!scrollable){\n            prevScrollY = ScrollUtils.preventScroll(scrollRef.current.body);\n        }\n        const timer = setTimeout(() => {\n            setFadeIn(true)\n        }, 100)\n\n        return () => {\n            if(prevScrollY){\n                ScrollUtils.allowScroll(scrollRef.current.body, prevScrollY)\n            }\n            prevScrollY = null;\n            clearTimeout(timer);\n        }\n    }, []);\n\n\n    useEffect(() => {\n        let prevScrollY = null;\n        if(windowBlocked){\n            prevScrollY = ScrollUtils.preventScroll(document.body);\n        }\n        return ()=>{\n            ScrollUtils.allowScroll(document.body, prevScrollY)\n        }\n    }, []);\n\n    // const clickAwayToClose = (e)=>{\n    //     if(contentRef.current && !contentRef.current.contains(e.target)){\n    //         close();\n    //     }\n    // }\n\n\n    return (\n        <>\n            <div className={`scroll-hidden ${cm(Popup.popup_mask, `${fadeIn && Popup.active}`)}`} ref={scrollRef}>\n                <div className={Popup.popup} ref={modalRef} style={\n                    {\n                        top: `${60 + top}px`,\n                        left: `${left}px`,\n                        width: `${width}px`,\n                        height: `${height}px`,\n                        minWidth: `${minWidth}px`,\n                        maxWidth: `${maxWidth}px`,\n                        minHeight: `${minHeight}px`,\n                        maxHeight: `${maxHeight}px`,\n                        paddingBottom: `${paddingBottom}px`,\n                        backgroundColor: backgroundColor\n                    }\n                }>\n                    {children}\n                </div>\n            </div>\n        </>\n\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}