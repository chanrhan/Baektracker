{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  lock: null,\n  list: []\n};\nconst modalSlice = createSlice({\n  name: 'modal',\n  initialState,\n  reducers: {\n    openModal: (state, action) => {\n      const {\n        modalName,\n        type,\n        onopen,\n        onclose,\n        props\n      } = action.payload;\n      // console.log('open')\n      if (state.list.some(value => modalName === value.modalName)) {\n        return state;\n      }\n      const arr = [...state.list.concat({\n        modalName,\n        type,\n        onopen,\n        onclose,\n        props\n      })];\n      if (onopen) {\n        onopen();\n      }\n      return {\n        lock: state.lock,\n        list: arr\n      };\n    },\n    closeModal: (state, action) => {\n      const modalName = action.payload;\n      // console.log('close')\n      const target = state.list.filter(v => v.modalName === modalName).at(0);\n      if (target && target.onclose) {\n        target.onclose();\n      }\n      const deleted = [...state.list.filter(value => value.modalName !== modalName)];\n      return {\n        lock: state.lock,\n        list: deleted\n      };\n    },\n    closeAndLock: (state, action) => {\n      const modalName = action.payload;\n      // console.log('close and lock')\n      // console.log(`close and lock: ${action.payload}`)\n      const target = state.list.filter(v => v.modalName === modalName).at(0);\n      if (target && target.onclose) {\n        target.onclose();\n      }\n      const deleted = [...state.list.filter(value => value.modalName !== modalName)];\n      return {\n        lock: modalName,\n        list: deleted\n      };\n    },\n    lock: (state, action) => {\n      // console.log(`lock: ${action.payload}`)\n      return {\n        lock: action.payload,\n        list: [...state.list]\n      };\n    },\n    unlock: state => {\n      // console.log('unlock')\n      return {\n        lock: null,\n        list: [...state.list]\n      };\n    },\n    getStackSize: state => {\n      return state.list && state.list.length > 0;\n    }\n  }\n});\nexport const modalReducer = modalSlice.reducer;\nexport const {\n  openModal,\n  closeModal,\n  getStackSize,\n  lock,\n  unlock,\n  closeAndLock\n} = modalSlice.actions;","map":{"version":3,"names":["createSlice","initialState","lock","list","modalSlice","name","reducers","openModal","state","action","modalName","type","onopen","onclose","props","payload","some","value","arr","concat","closeModal","target","filter","v","at","deleted","closeAndLock","unlock","getStackSize","length","modalReducer","reducer","actions"],"sources":["/Users/chan/Baektracker/src/main/frontend/src/js/setup/store/slices/modalSlice.js"],"sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    lock: null,\n    list: []\n}\n\nconst modalSlice = createSlice({\n    name: 'modal',\n    initialState,\n    reducers: {\n        openModal: (state, action)=>{\n            const {modalName, type, onopen, onclose, props} = action.payload;\n            // console.log('open')\n            if(state.list.some(value=>(modalName === value.modalName))){\n                return state;\n            }\n            const arr = [...state.list.concat({modalName, type, onopen, onclose, props})];\n            if(onopen){\n                onopen();\n            }\n            return {\n                lock: state.lock,\n                list: arr\n            }\n        },\n        closeModal: (state, action)=>{\n            const modalName = action.payload;\n            // console.log('close')\n            const target = state.list.filter(v=>v.modalName === modalName).at(0);\n            if(target && target.onclose){\n                target.onclose();\n            }\n            const deleted = [...state.list.filter(value=>(value.modalName !== modalName))]\n            return {\n                lock: state.lock,\n                list: deleted\n            }\n        },\n        closeAndLock: (state, action)=>{\n            const modalName = action.payload;\n            // console.log('close and lock')\n            // console.log(`close and lock: ${action.payload}`)\n            const target = state.list.filter(v=>v.modalName === modalName).at(0);\n            if(target && target.onclose){\n                target.onclose();\n            }\n            const deleted = [...state.list.filter(value=>(value.modalName !== modalName))]\n            return {\n                lock: modalName,\n                list: deleted\n            }\n        },\n        lock: (state, action)=>{\n            // console.log(`lock: ${action.payload}`)\n            return {\n                lock: action.payload,\n                list: [...state.list]\n            }\n        },\n        unlock: (state)=>{\n            // console.log('unlock')\n            return {\n                lock: null,\n                list: [...state.list]\n            }\n        },\n        getStackSize: (state)=>{\n            return state.list && state.list.length > 0\n        }\n    }\n});\n\nexport const modalReducer = modalSlice.reducer;\nexport const {openModal, closeModal, getStackSize, lock, unlock, closeAndLock} = modalSlice.actions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}